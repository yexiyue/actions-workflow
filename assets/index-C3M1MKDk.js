import{g as j,K as M,m as P,y as G,r as o,C as O,c as h,o as B,Y as T}from"./index-BDD7mHiH.js";function H(e,i,t){var n=t||{},s=n.noTrailing,f=s===void 0?!1:s,b=n.noLeading,g=b===void 0?!1:b,w=n.debounceMode,u=w===void 0?void 0:w,r,c=!1,y=0;function N(){r&&clearTimeout(r)}function a(m){var p=m||{},l=p.upcomingOnly,S=l===void 0?!1:l;N(),c=!S}function $(){for(var m=arguments.length,p=new Array(m),l=0;l<m;l++)p[l]=arguments[l];var S=this,z=Date.now()-y;if(c)return;function v(){y=Date.now(),i.apply(S,p)}function d(){r=void 0}!g&&u&&!r&&v(),N(),u===void 0&&z>e?g?(y=Date.now(),f||(r=setTimeout(u?d:v,e))):v():f!==!0&&(r=setTimeout(u?d:v,u===void 0?e-z:e))}return $.cancel=a,$}function _(e,i,t){var n={},s=n.atBegin,f=s===void 0?!1:s;return H(e,i,{debounceMode:f!==!1})}const V=new M("antSpinMove",{to:{opacity:1}}),A=new M("antRotate",{to:{transform:"rotate(405deg)"}}),R=e=>{const{componentCls:i,calc:t}=e;return{[`${i}`]:Object.assign(Object.assign({},G(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${i}-text`]:{fontSize:e.fontSize,paddingTop:t(t(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${i}-dot ${i}-dot-item`]:{backgroundColor:e.colorWhite},[`${i}-text`]:{color:e.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${i}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${i}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(e.dotSize).mul(-1).div(2).equal()},[`${i}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${i}-dot`]:{margin:t(e.dotSizeSM).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:t(t(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${i}-dot`]:{margin:t(e.dotSizeLG).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:t(t(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:t(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${i}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${i}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${i}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(e.dotSize).sub(t(e.marginXXS).div(2)).div(2).equal(),height:t(e.dotSize).sub(t(e.marginXXS).div(2)).div(2).equal(),backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:V,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:A,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${i}-dot`]:{fontSize:e.dotSizeSM,i:{width:t(t(e.dotSizeSM).sub(t(e.marginXXS).div(2))).div(2).equal(),height:t(t(e.dotSizeSM).sub(t(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${i}-dot`]:{fontSize:e.dotSizeLG,i:{width:t(t(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:t(t(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${i}-show-text ${i}-text`]:{display:"block"}})}},F=e=>{const{controlHeightLG:i,controlHeight:t}=e;return{contentHeight:400,dotSize:i/2,dotSizeSM:i*.35,dotSizeLG:t}},K=j("Spin",e=>{const i=P(e,{spinDotDefault:e.colorTextDescription});return[R(i)]},F);var W=function(e,i){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)i.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t};let C=null;function Y(e,i){const{indicator:t}=i,n=`${e}-dot`;return t===null?null:o.isValidElement(t)?T(t,{className:h(t.props.className,n)}):o.isValidElement(C)?T(C,{className:h(C.props.className,n)}):o.createElement("span",{className:h(n,`${e}-dot-spin`)},o.createElement("i",{className:`${e}-dot-item`,key:1}),o.createElement("i",{className:`${e}-dot-item`,key:2}),o.createElement("i",{className:`${e}-dot-item`,key:3}),o.createElement("i",{className:`${e}-dot-item`,key:4}))}function J(e,i){return!!e&&!!i&&!isNaN(Number(i))}const Q=e=>{const{prefixCls:i,spinning:t=!0,delay:n=0,className:s,rootClassName:f,size:b="default",tip:g,wrapperClassName:w,style:u,children:r,fullscreen:c=!1}=e,y=W(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen"]),{getPrefixCls:N}=o.useContext(O),a=N("spin",i),[$,m,p]=K(a),[l,S]=o.useState(()=>t&&!J(t,n));o.useEffect(()=>{if(t){const x=_(n,()=>{S(!0)});return x(),()=>{var E;(E=x==null?void 0:x.cancel)===null||E===void 0||E.call(x)}}S(!1)},[n,t]);const z=o.useMemo(()=>typeof r<"u"&&!c,[r,c]),{direction:v,spin:d}=o.useContext(O),q=h(a,d==null?void 0:d.className,{[`${a}-sm`]:b==="small",[`${a}-lg`]:b==="large",[`${a}-spinning`]:l,[`${a}-show-text`]:!!g,[`${a}-fullscreen`]:c,[`${a}-fullscreen-show`]:c&&l,[`${a}-rtl`]:v==="rtl"},s,f,m,p),L=h(`${a}-container`,{[`${a}-blur`]:l}),D=B(y,["indicator"]),X=Object.assign(Object.assign({},d==null?void 0:d.style),u),I=o.createElement("div",Object.assign({},D,{style:X,className:q,"aria-live":"polite","aria-busy":l}),Y(a,e),g&&(z||c)?o.createElement("div",{className:`${a}-text`},g):null);return $(z?o.createElement("div",Object.assign({},D,{className:h(`${a}-nested-loading`,w,m,p)}),l&&o.createElement("div",{key:"loading"},I),o.createElement("div",{className:L,key:"container"},r)):I)};Q.setDefaultIndicator=e=>{C=e};export{Q as S};
